########################################
# Projekt-Parameter (zentral steuerbar)
########################################
parameters:
    memories.index.image_ext: ['jpg','jpeg','jpe','jxl','avif','heic','heif','png','webp','gif','bmp','tiff','tif','cr2','cr3','nef','arw','rw2','raf','dng']
    memories.index.video_ext: []
#    memories.index.video_ext: ['mp4','m4v','mov','3gp','3g2','avi','mkv','webm']

    # Hash Defaults
    memories.hash.dct_sample: 32
    memories.hash.lowfreq: 8

    # Geocoding Defaults
    memories.geocoding.nominatim.base_url: '%env(string:NOMINATIM_BASE_URL)%'
    memories.geocoding.nominatim.email:    '%env(string:NOMINATIM_EMAIL)%'
    memories.geocoding.nominatim.user_agent: 'Rueckblick/1.0'
    memories.geocoding.nominatim.zoom: 14
    memories.geocoding.delay_ms: 1200
    memories.geocoding.overpass.base_url: 'https://overpass-api.de/api'
    memories.geocoding.overpass.timeout: 25
    memories.geocoding.overpass.radius_m: 250
    memories.geocoding.overpass.max_pois: 15
    memories.geocoding.overpass.fetch_limit_multiplier: 3.0
    memories.localization.preferred_locale: '%env(default::string:MEMORIES_PREFERRED_LOCALE)%'

    # Thumbnail-Größen (px)
    memories.thumbnail_sizes: [320, 1024]

    # Consolidation Defaults
    memories.cluster.consolidate.min_score: 0.30
    memories.cluster.consolidate.min_size: 3
    memories.cluster.consolidate.overlap_merge_threshold: 0.50
    memories.cluster.consolidate.overlap_drop_threshold: 0.70
    memories.cluster.consolidate.per_media_cap: 1
    memories.cluster.consolidate.keep_order:
        - 'long_trip'
        - 'road_trip'
        - 'weekend_trip'
        - 'camping_trip'
        - 'hike_adventure'
        - 'transit_travel_day'
        - 'significant_place'
        - 'first_visit_place'
        - 'location_similarity'
        - 'cross_dimension'
        - 'person_cohort'
        - 'holiday_event'
        - 'new_year_eve'
        - 'anniversary'
        - 'sports_event'
        - 'festival_summer'
        - 'nightlife_event'
        - 'cityscape_night'
        - 'kids_birthday_party'
        - 'pet_moments'
        - 'zoo_aquarium'
        - 'on_this_day_over_years'
        - 'one_year_ago'
        - 'weekend_getaways_over_years'
        - 'beach_over_years'
        - 'camping_over_years'
        - 'snow_vacation_over_years'
        - 'museum_over_years'
        - 'zoo_aquarium_over_years'
        - 'season_over_years'
        - 'this_month_over_years'
        - 'year_in_review'
        - 'monthly_highlights'
        - 'season'
        - 'golden_hour'
        - 'sunny_day'
        - 'snow_day'
        - 'rainy_day'
        - 'day_album'
        - 'at_home_weekend'
        - 'at_home_weekday'
        - 'dining_out'
        - 'morning_coffee'
        - 'time_similarity'
        - 'photo_motif'
        - 'panorama'
        - 'panorama_over_years'
        - 'portrait_orientation'
        - 'video_stories'
        - 'device_similarity'
        - 'phash_similarity'
        - 'burst'
    memories.cluster.consolidate.annotate_only:
        - 'phash_similarity'
        - 'burst'
    memories.cluster.consolidate.min_unique_share:
        photo_motif: 0.25
        device_similarity: 0.40
        panorama: 0.25
        portrait_orientation: 0.25
        video_stories: 0.25
    memories.cluster.consolidate.require_valid_time: true
    memories.cluster.consolidate.min_valid_year: 1990

    # Cluster Strategy Priorities
    # Higher numbers run earlier; values normalized to an evenly spaced 40-100 range.
    memories.cluster.priority.this_month_over_years_cluster_strategy: 100
    memories.cluster.priority.phash_similarity_strategy: 99
    memories.cluster.priority.burst_cluster_strategy: 98
    memories.cluster.priority.long_trip_cluster_strategy: 96
    memories.cluster.priority.road_trip_cluster_strategy: 95
    memories.cluster.priority.transit_travel_day_cluster_strategy: 94
    memories.cluster.priority.weekend_trip_cluster_strategy: 93
    memories.cluster.priority.camping_trip_cluster_strategy: 92
    memories.cluster.priority.first_visit_place_cluster_strategy: 91
    memories.cluster.priority.significant_place_cluster_strategy: 89
    memories.cluster.priority.location_similarity_strategy: 88
    memories.cluster.priority.person_cohort_cluster_strategy: 87
    memories.cluster.priority.holiday_event_cluster_strategy: 86
    memories.cluster.priority.new_year_eve_cluster_strategy: 85
    memories.cluster.priority.sports_event_cluster_strategy: 84
    memories.cluster.priority.festival_summer_cluster_strategy: 82
    memories.cluster.priority.cityscape_night_cluster_strategy: 81
    memories.cluster.priority.nightlife_event_cluster_strategy: 80
    memories.cluster.priority.hike_adventure_cluster_strategy: 79
    memories.cluster.priority.zoo_aquarium_cluster_strategy: 78
    memories.cluster.priority.kids_birthday_party_cluster_strategy: 76
    memories.cluster.priority.cross_dimension_cluster_strategy: 75
    memories.cluster.priority.on_this_day_over_years_cluster_strategy: 74
    memories.cluster.priority.one_year_ago_cluster_strategy: 73
    memories.cluster.priority.anniversary_cluster_strategy: 72
    memories.cluster.priority.beach_over_years_cluster_strategy: 71
    memories.cluster.priority.camping_over_years_cluster_strategy: 69
    memories.cluster.priority.snow_vacation_over_years_cluster_strategy: 68
    memories.cluster.priority.museum_over_years_cluster_strategy: 67
    memories.cluster.priority.season_over_years_cluster_strategy: 66
    memories.cluster.priority.zoo_aquarium_over_years_cluster_strategy: 65
    memories.cluster.priority.weekend_getaways_over_years_cluster_strategy: 64
    memories.cluster.priority.year_in_review_cluster_strategy: 62
    memories.cluster.priority.monthly_highlights_cluster_strategy: 61
    memories.cluster.priority.season_cluster_strategy: 60
    memories.cluster.priority.golden_hour_cluster_strategy: 59
    memories.cluster.priority.sunny_day_cluster_strategy: 58
    memories.cluster.priority.snow_day_cluster_strategy: 56
    memories.cluster.priority.rainy_day_cluster_strategy: 55
    memories.cluster.priority.day_album_cluster_strategy: 54
    memories.cluster.priority.dining_out_cluster_strategy: 53
    memories.cluster.priority.morning_coffee_cluster_strategy: 52
    memories.cluster.priority.time_similarity_strategy: 51
    memories.cluster.priority.pet_moments_cluster_strategy: 49
    memories.cluster.priority.photo_motif_cluster_strategy: 48
    memories.cluster.priority.panorama_cluster_strategy: 47
    memories.cluster.priority.panorama_over_years_cluster_strategy: 46
    memories.cluster.priority.portrait_orientation_cluster_strategy: 45
    memories.cluster.priority.at_home_weekend_cluster_strategy: 44
    memories.cluster.priority.at_home_weekday_cluster_strategy: 42
    memories.cluster.priority.video_stories_cluster_strategy: 41
    memories.cluster.priority.device_similarity_strategy: 40

    # Scoring Defaults
    memories.score.min_valid_year: 1995
    memories.score.time_range.min_samples: 3
    memories.score.time_range.min_coverage: 0.6
    memories.score.poi_category_boosts:
        'tourism/*': 0.20
        'tourism/museum': 0.30
        'tourism/gallery': 0.22
        'tourism/theme_park': 0.25
        'leisure/park': 0.14
        'leisure/playground': 0.12
        'amenity/restaurant': 0.08
        'amenity/cafe': 0.06
        'historic/*': 0.18
        'historic/castle': 0.22
        'natural/beach': 0.20
        'natural/viewpoint': 0.12
        'shop/mall': 0.06

    # Feed Defaults
    memories.feed.min_score: 0.35
    memories.feed.min_members: 4
    memories.feed.max_per_day: 6
    memories.feed.max_total: 60
    memories.feed.max_per_algorithm: 12

    # Weather
    memories.weather.enabled_default: false
    memories.weather.enabled: '%env(default:memories.weather.enabled_default:bool:MEMORIES_WEATHER_ENABLED)%'
    memories.weather.openweather.base_url: '%env(default::string:OPENWEATHER_BASE_URL)%'
    memories.weather.openweather.api_key: '%env(default::string:OPENWEATHER_API_KEY)%'
    memories.weather.openweather.max_past_hours_default: 120
    memories.weather.openweather.max_past_hours: '%env(default:memories.weather.openweather.max_past_hours_default:int:MEMORIES_WEATHER_MAX_PAST_HOURS)%'
    memories.weather.openweather.source_default: 'openweather'
    memories.weather.openweather.source: '%env(default:memories.weather.openweather.source_default:string:MEMORIES_WEATHER_SOURCE)%'
